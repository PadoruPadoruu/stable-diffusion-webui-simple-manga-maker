class Path{constructor(color,opacity){this.color=color;this.opacity=opacity||1;this.points=[];this.width=0;this.length=0;this.timestamp=Date.now();}addPoint(x,y,pressure,width){const point={x:x,y:y,pressure:pressure||1,width:width||1,timestamp:Date.now()};this.points.push(point);this._updateLength();return point;}getLastPoint(){return this.points.length>0?this.points[this.points.length-1]:null;}_updateLength(){if(this.points.length<2)return;const lastIndex=this.points.length-1;const lastPoint=this.points[lastIndex];const prevPoint=this.points[lastIndex-1];const distance=Math.sqrt(Math.pow(lastPoint.x-prevPoint.x,2)+Math.pow(lastPoint.y-prevPoint.y,2));this.length+=distance;}}